"use strict";jQuery((function($){function e(){this.nsr_options=Nsr_Options,this.document=$(document),this.window=$(window),this.html=$("html"),this.body=$("body"),this.adminbar=$("#wpadminbar"),this.editorContainer=$("#wp-content-editor-container")}e.prototype={init:function(){this.runNicescroll(),this.listenForDocumentChanges()},addEvents:function(){this.document.on("mousedown",{context:this},this.mouseWheelScrollHepler),this.document.on("mousedown",{context:this},this.autoscrollHelper)},runNicescroll:function(){this.body.niceScroll(this.getNicescrollConfiguration())},getNicescrollConfiguration:function(){return{cursorcolor:this.nsr_options.cursorcolor,cursoropacitymin:this.nsr_options.cursoropacitymin,cursoropacitymax:this.nsr_options.cursoropacitymax,cursorwidth:this.nsr_options.cursorwidth,cursorborder:this.retrieveCursorBorder(),cursorborderradius:this.nsr_options.cursorborderradius,zindex:this.nsr_options.zindex,scrollspeed:this.nsr_options.scrollspeed,mousescrollstep:this.nsr_options.mousescrollstep,emulatetouch:this.nsr_options.emulatetouch,hwacceleration:this.nsr_options.hwacceleration,boxzoom:this.nsr_options.boxzoom,dblclickzoom:this.nsr_options.dblclickzoom,gesturezoom:this.nsr_options.gesturezoom,grabcursorenabled:this.nsr_options.grabcursorenabled,autohidemode:this.retrieveAutohideMode(),background:this.nsr_options.background,iframeautoresize:this.nsr_options.iframeautoresize,cursorminheight:this.nsr_options.cursorminheight,preservenativescrolling:this.nsr_options.preservenativescrolling,railoffset:this.retrieveRailOffset(),bouncescroll:this.nsr_options.bouncescroll,spacebarenabled:this.nsr_options.spacebarenabled,railpadding:this.retrieveRailPadding(),disableoutline:this.nsr_options.disableoutline,horizrailenabled:this.nsr_options.horizrailenabled,railalign:this.nsr_options.railalign,railvalign:this.nsr_options.railvalign,enabletranslate3d:this.nsr_options.enabletranslate3d,enablemousewheel:this.nsr_options.enablemousewheel,enablekeyboard:this.nsr_options.enablekeyboard,smoothscroll:this.nsr_options.smoothscroll,sensitiverail:this.nsr_options.sensitiverail,enablemouselockapi:this.nsr_options.enablemouselockapi,cursorfixedheight:this.retrieveCursorFixedHeight(),hidecursordelay:this.nsr_options.hidecursordelay,directionlockdeadzone:this.nsr_options.directionlockdeadzone,nativeparentscrolling:this.nsr_options.nativeparentscrolling,enablescrollonselection:this.nsr_options.enablescrollonselection,cursordragspeed:this.nsr_options.cursordragspeed,rtlmode:this.nsr_options.rtlmode,cursordragontouch:this.nsr_options.cursordragontouch,oneaxismousemode:this.nsr_options.oneaxismousemode,preventmultitouchscrolling:this.nsr_options.preventmultitouchscrolling,disablemutationobserver:this.nsr_options.disablemutationobserver,enableobserver:this.nsr_options.enableobserver,scrollbarid:this.nsr_options.scrollbarid}},runFrontendIframeHelper:function(){let e=window.navigator.userAgent,t=e.indexOf("Trident/"),o=e.indexOf("Edge");t>-1||o>-1?t>-1?this.addMsieIframeHelper():this.addEdgeIframeHelper():navigator.userAgent.search("Firefox")>=0?this.addMozIframeHelper():navigator.userAgent.search("Chrome")>=0&&this.addWebkitIframeHelper()},runBackendIframeHelper:function(){let e=window.navigator.userAgent,t=e.indexOf("Trident/"),o=e.indexOf("Edge");t>-1||o>-1?t>-1?this.addMsieIframeHelper():this.addEdgeIframeHelper():navigator.userAgent.search("Firefox")>=0?this.addMozIframeHelper():navigator.userAgent.search("Chrome")>=0&&this.addWebkitIframeHelper()},retrieveCursorBorder:function(){return this.nsr_options.cursorborderwidth+" "+this.nsr_options.cursorborderstate+" "+this.nsr_options.cursorbordercolor},retrieveRailPadding:function(){return{top:this.nsr_options.railpaddingtop,right:this.nsr_options.railpaddingright,bottom:this.nsr_options.railpaddingleft,left:this.nsr_options.railpaddingleft}},retrieveAutohideMode:function(){let e=this.nsr_options.autohidemode;return"enabled"!==e&&"true"!==e||(e=!0),"disabled"!==e&&"false"!==e||(e=!1),e},retrieveRailOffset:function(){let e=this.nsr_options.railoffset;return"false"===e&&(e=!1),e},retrieveCursorFixedHeight:function(){let e=this.nsr_options.cursorfixedheight;return"false"===e&&(e=!1),e},listenForDocumentChanges:function(){let e=this;MutationObserver=window.MutationObserver||window.WebKitMutationObserver,new MutationObserver((function(){e.triggerResize()})).observe(document,{subtree:!0,attributes:!0,childList:!0})},addWebkitIframeHelper:function(){this.html.addClass("nsr-is-webkit");let e=this;this.editorContainer.on({mouseenter:function(){e.body.attr("style","overflow-y: initial")},mouseleave:function(){e.body.attr("style","overflow-y: hidden")}})},addMozIframeHelper:function(){this.html.addClass("nsr-is-moz");let e=this,t=this.html;this.editorContainer.on({mouseenter:function(){t.attr("style","scrollbar-width: none"),e.body.attr("style","overflow-y: initial")},mouseleave:function(){t.attr("style","scrollbar-width: none"),e.body.attr("style","overflow-y: hidden")}})},addMsieIframeHelper:function(){this.html.addClass("nsr-is-msie");let e=this;this.editorContainer.on({mouseenter:function(){e.body.attr("style","-ms-overflow-style: none"),e.html.attr("style","-ms-overflow-y: initial")},mouseleave:function(){e.body.attr("style","-ms-overflow-style: none"),e.html.attr("style","-ms-overflow-y: initial")}})},addEdgeIframeHelper:function(){this.html.addClass("nsr-is-edge");let e=this;this.editorContainer.on({mouseenter:function(){e.body.attr("style","-ms-overflow-style: none"),e.body.attr("style","-ms-overflow-y: initial")},mouseleave:function(){e.body.attr("style","-ms-overflow-style: none"),e.body.attr("style","-ms-overflow-y: initial")}})},triggerResize:function(){let e=this;setTimeout((function(){e.body.getNiceScroll().resize()}),300)}},$((function(){"1"===Nsr_Options.enabled&&(new e).init()}))}));